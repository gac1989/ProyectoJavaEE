<!DOCTYPE HTML>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:jsf="http://xmlns.jcp.org/jsf"
	xmlns:c="http://java.sun.com/jsp/jstl/core">
	<h:head>
	  	<title>Bootstrap Example</title>
		<meta charset="utf-8"/>
		<meta name="viewport" content="width=device-width, initial-scale=1"/>
		<script src="//cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
		<link type = "text/css" rel = "stylesheet" href = "resources/perfil.css" /> 
	</h:head>
	<h:body>
	<ui:include src="./navBar.xhtml" />
		<br></br>
		<div class="container">
		<div class="row gutters">
		<div class="col-xl-3 col-lg-3 col-md-12 col-sm-12 col-12">
		<div class="card h-100">
			<div class="card-body">
				<div class="account-settings">
					<div class="user-profile">
						<div class="user-avatar">
							<img src="data:image/png;base64, #{visitado.imagen}" />
						</div>
						<h5 class="user-name">#{visitado.nick}</h5>
						<h6 class="user-email">#{visitado.email}</h6>
					</div>
					<div class="about">
						<h5 class="mb-2 text-info">#{visitado.type}</h5>
					</div>
				</div>
			</div>
		</div>
		</div>
		<div class="col-xl-9 col-lg-9 col-md-12 col-sm-12 col-12">
		<div class="card h-100">
			<div class="card-body">
				<nav>
				  <div class="nav nav-tabs" id="nav-tab" role="tablist">
				    <button class="nav-link active" id="nav-home-tab" data-bs-toggle="tab" data-bs-target="#nav-home" type="button" role="tab" aria-controls="nav-home" aria-selected="true">Datos</button>
				    <button class="nav-link" id="nav-profile-tab" data-bs-toggle="tab" data-bs-target="#nav-profile" type="button" role="tab" aria-controls="nav-profile" aria-selected="false">Muro</button>
				  </div>
				</nav>
				<div class="tab-content" id="nav-tabContent">
				  	<div class="tab-pane fade show active" id="nav-home" role="tabpanel" aria-labelledby="nav-home-tab">
					  	<br/>
								<div class="row gutters">
									<div class="col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12">
										<h6 class="mb-2 text-info">Detalles</h6>
									</div>
									<div class="col-xl-6 col-lg-6 col-md-6 col-sm-6 col-12">
										<label for="nick">Nick:</label><br></br>
				                        <h:inputText id="nick" value="#{visitado.nick}" class="form-control" readonly="true"></h:inputText>
									</div>
									<div class="col-xl-6 col-lg-6 col-md-6 col-sm-6 col-12">
										<div class="form-group">
											<label for="email" >Email:</label><br></br>
				                            <h:inputText id="email" value="#{visitado.email}" class="form-control" readonly="true"></h:inputText>
										</div>
									</div>
									<div class="col-xl-6 col-lg-6 col-md-6 col-sm-6 col-12">
										<div class="form-group">
											 <label for="Pais" >Pais:</label><br></br>
				                             <h:inputText id="pais" value="#{visitado.pais}" class="form-control" readonly="true"></h:inputText>
										</div>
									</div>
								</div>
								<div class="row gutters">
									<div class="col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12">
										<h6 class="mt-3 mb-2 text-info">Empresa</h6>
									</div>
									<div class="col-xl-6 col-lg-6 col-md-6 col-sm-6 col-12">
										<div class="form-group">
											<label for="empresa" >Empresa:</label><br></br>
					                        <h:inputText id="empresa" value="#{visitado.nombre_empresa}" class="form-control" readonly="true"></h:inputText>
										</div>
									</div>
									<div class="col-xl-6 col-lg-6 col-md-6 col-sm-6 col-12">
										<div class="form-group">
											<label for="direccion">Direccion:</label><br></br>
				                            <h:inputText id="direccion" value="#{visitado.direccion}" class="form-control" readonly="true"></h:inputText>
										</div>
									</div>
									<div class="col-xl-6 col-lg-6 col-md-6 col-sm-6 col-12">
										<div class="form-group">
											<label for="telefono">Telefono:</label><br></br>
				                            <h:inputText id="telefono" value="#{visitado.telefono}" class="form-control" readonly="true"></h:inputText>
										</div>
									</div>
								</div>
						</div>
						<div class="tab-pane fade" id="nav-profile" role="tabpanel" aria-labelledby="nav-profile-tab">
							<div class="card">
							 <br/>
							    <div class="container" style="overflow-y: scroll; height: 40em;">
							    	<div class="row">
								    	<c:forEach items="#{PublicacionBean.obtenerPublicaciones(visitado)}" var="stat">
							    			<div class="col-md-8">
										        <div class="media g-mb-30 media-comment">
										        	<img src="data:image/png;base64, #{visitado.imagen}"  width="70" class="d-flex g-width-50 g-height-50 rounded-circle g-mt-3 g-mr-15" />
										            <div class="media-body u-shadow-v18 g-bg-secondary g-pa-30">
										              <div class="g-mb-15">
										                <h5 class="h5 g-color-gray-dark-v1 mb-0">#{visitado.nick}</h5>
										                <span class="g-color-gray-dark-v4 g-font-size-12">5 days ago</span>
										              </div>
										              <p>#{stat.texto}</p>
										              <c:if test="#{stat.imagen!=null and !stat.imagen.isEmpty()}">
									                	  <img src="data:image/png;base64, #{stat.imagen}"  id="pub" />
							                	   	  </c:if>
										            </div>
										        </div>
									        </div>
		                                </c:forEach>
	                                </div>
                                </div>
							</div>
						</div>
					  	<div class="tab-pane fade" id="nav-contact" role="tabpanel" aria-labelledby="nav-contact-tab">
					  	</div>
					</div>
				</div>
		</div>
		</div>
		</div>
		</div>
		<script>
			if (window.history.replaceState) { // verificamos disponibilidad
			    window.history.replaceState(null, null, window.location.href);
			}
		</script>
		<ui:include src="./footer.xhtml" />
	</h:body>
</html>
                                                      