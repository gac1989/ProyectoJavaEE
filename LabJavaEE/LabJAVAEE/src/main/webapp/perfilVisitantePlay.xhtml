<!DOCTYPE HTML>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:jsf="http://xmlns.jcp.org/jsf"
	xmlns:c="http://java.sun.com/jsp/jstl/core">
	<h:head>
	  	<title>Bootstrap Example</title>
		<meta charset="utf-8"/>
		<meta name="viewport" content="width=device-width, initial-scale=1"/>
		<script src="//cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
		<style>
			body {
			    margin: 0;
			    color: #2e323c;
			    background: #f5f6fa;
			    position: relative;
			    height: 100%;
			}
			.account-settings .user-profile {
			    margin: 0 0 1rem 0;
			    padding-bottom: 1rem;
			    text-align: center;
			}
			.account-settings .user-profile .user-avatar {
			    margin: 0 0 1rem 0;
			}
			img {
			    width: 90px;
			    height: 90px;
			    -webkit-border-radius: 100px;
			    -moz-border-radius: 100px;
			    border-radius: 100px;
			    object-fit: cover;
			    border: #17a2b8 3px solid;
			}
			.account-settings .user-profile h5.user-name {
			    margin: 0 0 0.5rem 0;
			}
			.account-settings .user-profile h6.user-email {
			    margin: 0;
			    font-size: 0.8rem;
			    font-weight: 400;
			    color: #9fa8b9;
			}
			.account-settings .about {
			    margin: 2rem 0 0 0;
			    text-align: center;
			}
			.account-settings .about h5 {
			    margin: 0 0 15px 0;
			    color: #007ae1;
			}
			.account-settings .about p {
			    font-size: 0.825rem;
			}
			.form-control {
			    border: 1px solid #cfd1d8;
			    -webkit-border-radius: 2px;
			    -moz-border-radius: 2px;
			    border-radius: 2px;
			    font-size: .825rem;
			    background: #ffffff;
			    color: #2e323c;
			}
			
			.card {
			    background: #ffffff;
			    -webkit-border-radius: 5px;
			    -moz-border-radius: 5px;
			    border-radius: 5px;
			    border: 0;
			    margin-bottom: 1rem;
			}
			body{
			    margin-top:20px;
			    background:#eee;
			}
			@media (min-width: 0) {
			    .g-mr-15 {
			        margin-right: 1.07143rem !important;
			    }
			}
			@media (min-width: 0){
			    .g-mt-3 {
			        margin-top: 0.21429rem !important;
			    }
			}
			
			.g-height-50 {
			    height: 50px;
			}
			
			.g-width-50 {
			    width: 50px !important;
			}
			
			@media (min-width: 0){
			    .g-pa-30 {
			        padding: 2.14286rem !important;
			    }
			}
			
			.g-bg-secondary {
			    background-color: #fafafa !important;
			}
			
			.u-shadow-v18 {
			    box-shadow: 0 5px 10px -6px rgba(0, 0, 0, 0.15);
			}
			
			.g-color-gray-dark-v4 {
			    color: #777 !important;
			}
			
			.g-font-size-12 {
			    font-size: 0.85714rem !important;
			}
			
			.media-comment {
			    margin-top:20px
			}
			#pub{
			    border-radius: 0px;
			    width: 100%;
			    height: 100%;
			}
			
			hr {
			  margin-top: 1rem;
			  margin-bottom: 1rem;
			  border: 0;
			  border-top: 1px solid rgba(0, 0, 0, 0.1);
			}
		</style>
	</h:head>
	<h:body>
	<ui:include src="./navBar.xhtml" />
		<br></br>
		<div class="container">
		<div class="row gutters">
		<div class="col-xl-3 col-lg-3 col-md-12 col-sm-12 col-12">
		<div class="card h-100">
			<div class="card-body">
				<div class="account-settings">
					<div class="user-profile">
						<div class="user-avatar">
							<p:graphicImage value = "http://localhost:8080/rest-lab/api/ejemplo/descarga/#{visitado.rutaImg}"/>
						</div>
						<h5 class="user-name">#{visitado.nick}</h5>
						<h6 class="user-email">#{visitado.email}</h6>
					</div>
				</div>
			</div>
		</div>
		</div>
		<div class="col-xl-9 col-lg-9 col-md-12 col-sm-12 col-12">
		<div class="card h-100">
			<div class="card-body">
				<nav>
				  <div class="nav nav-tabs" id="nav-tab" role="tablist">
				    <button class="nav-link active" id="nav-home-tab" data-bs-toggle="tab" data-bs-target="#nav-home" type="button" role="tab" aria-controls="nav-home" aria-selected="true">Mis datos</button>
				    <button class="nav-link" id="nav-profile-tab" data-bs-toggle="tab" data-bs-target="#nav-profile" type="button" role="tab" aria-controls="nav-profile" aria-selected="false">Muro</button>
				  </div>
				</nav>
				<div class="tab-content" id="nav-tabContent">
				  	<div class="tab-pane fade show active" id="nav-home" role="tabpanel" aria-labelledby="nav-home-tab">
					  	<br/>
							<h:form>
								<div class="row gutters">
									<div class="col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12">
										<h6 class="mb-2 text-info">Detalles</h6>
									</div>
									<div class="col-xl-6 col-lg-6 col-md-6 col-sm-6 col-12">
										<label for="nick">Nick:</label><br></br>
				                        <h:inputText id="nick" value="#{visitado.nick}" class="form-control" readonly="true"></h:inputText>
									</div>
									<div class="col-xl-6 col-lg-6 col-md-6 col-sm-6 col-12">
										<div class="form-group">
											<label for="email" >Email:</label><br></br>
				                            <h:inputText id="email" value="#{visitado.email}" class="form-control" readonly="true"></h:inputText>
										</div>
									</div>
								</div>
								<div class="row gutters">
									<div class="col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12">
										<h6 class="mt-3 mb-2 text-info">Datos</h6>
									</div>
									<div class="col-xl-6 col-lg-6 col-md-6 col-sm-6 col-12">
										<div class="form-group">
											<label for="nombre" >Nombre:</label><br></br>
					                        <h:inputText id="nombre" value="#{visitado.nombre}" class="form-control" readonly="true"></h:inputText>
										</div>
									</div>
									<div class="col-xl-6 col-lg-6 col-md-6 col-sm-6 col-12">
										<div class="form-group">
											<label for="apellido">Apellido:</label><br></br>
				                            <h:inputText id="apellido" value="#{visitado.apellido}" class="form-control" readonly="true"></h:inputText>
										</div>
									</div>
									
								</div>
							</h:form>
						</div>
						<div class="tab-pane fade" id="nav-profile" role="tabpanel" aria-labelledby="nav-profile-tab">
							<div class="card">
							 <br/>
							    <div class="container" style="overflow-y: scroll; height: 50em;">
							    	<div class="row">
								    	<c:forEach items="#{PublicacionBean.obtenerPublicaciones(visitado)}" var="stat">
							    			<div class="col-md-8">
										        <div class="media g-mb-30 media-comment">
										        	<img src="http://localhost:8080/rest-lab/api/ejemplo/descarga/#{visitado.rutaImg}" width="70" class="d-flex g-width-50 g-height-50 rounded-circle g-mt-3 g-mr-15"/>
										            <div class="media-body u-shadow-v18 g-bg-secondary g-pa-30">
										              <div class="g-mb-15">
										                <h5 class="h5 g-color-gray-dark-v1 mb-0">#{visitado.nick}</h5>
										                <span class="g-color-gray-dark-v4 g-font-size-12">5 days ago</span>
										              </div>
										              <p>#{stat.texto}</p>
										              <c:if test="#{stat.imagen!=null}">
									                	 <img src="http://localhost:8080/rest-lab/api/ejemplo/descarga/#{stat.imagen}" id="pub"/>
							                	   	  </c:if>
										            </div>
										        </div>
									        </div>
		                                </c:forEach>
	                                </div>
                                </div>
							</div>
						</div>
					  	<div class="tab-pane fade" id="nav-contact" role="tabpanel" aria-labelledby="nav-contact-tab">
					  	</div>
					</div>
				</div>
		</div>
		</div>
		</div>
		</div>
		<script>
			if (window.history.replaceState) { // verificamos disponibilidad
			    window.history.replaceState(null, null, window.location.href);
			}
		</script>
	</h:body>
</html>
                                                      